# vmlinux

We check in arch-specific `vmlinux.h` headers here generated by the following
`bpftool` command:

```
bpftool btf dump file /sys/kernel/btf/vmlinux format c > vmlinux.h
```

These are then included in our probes such that they can access all kernel
struct/enum/type definitions. Using the `vmlinux.h` in this directory is the
default when building (`-DUSE_BUILTIN_VMLINUX=True`), but can be disabled (such
that `bpftool` is run at build-time to generate `vmlinux.h` on the fly) by
unsetting that CMake option.

Using this "prebuilt" vmlinux.h allows for easy builds on machines that don't
support BTF e.g. CI runners and won't affect functionality unless we need
access to a definition only available in a very new kernel, in which case the
problem can be solved by simply updating the `vmlinux.h` in here.
